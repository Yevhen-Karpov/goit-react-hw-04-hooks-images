{"version":3,"sources":["components/ImageGallery/ImageGallery.module.css","components/ImageGallery/Modal/Modal.module.css","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/App/App.module.css","components/Searchbar/Searchbar.jsx","components/ImageGallery/Modal/Modal.jsx","components/ImageGallery/ImageGalleryItem/ImageGalleryItem.jsx","components/Loader/Loader.jsx","components/Button/Button.jsx","services/apiService.js","components/ImageGallery/ImageGallery.jsx","components/App/App.jsx","index.js","components/Searchbar/Searchbar.module.css"],"names":["module","exports","Searchbar","onSubmit","useState","text","setText","className","s","searchbar","e","preventDefault","trim","toast","error","form","type","button","input","name","value","onChange","currentTarget","toLowerCase","autoComplete","autoFocus","placeholder","modalRoot","document","querySelector","Modal","src","alt","onClose","useEffect","window","addEventListener","handleKeyDown","removeEventListener","code","createPortal","overlay","onClick","event","target","modal","width","ImageGalleryItem","card","showModal","setShowModal","toggleModal","imageGalleryItem","webformatURL","tags","imageGalleryItemImage","largeImageURL","id","Loader","role","size","Button","axios","require","BASE_URL","API_KEY","page","a","get","data","console","api","fetchApi","ImageGallery","cards","setCards","status","setStatus","setPage","handleRenderPage","hits","prevState","handleAddPage","scroll","scrollToBottom","length","gallery","map","App","ReactDOM","render","StrictMode","app","getElementById"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,QAAU,8BAA8B,KAAO,6B,mBCAjED,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,uB,mBCA3DD,EAAOC,QAAU,CAAC,iBAAmB,2CAA2C,sBAAwB,kD,mBCAxGD,EAAOC,QAAU,CAAC,OAAS,yB,mBCA3BD,EAAOC,QAAU,CAAC,IAAM,mB,sJCMT,SAASC,EAAT,GAAkC,IAAbC,EAAY,EAAZA,SAClC,EAAwBC,mBAAS,IAAjC,mBAAOC,EAAP,KAAaC,EAAb,KAiBA,OACE,wBAAQC,UAAWC,IAAEC,UAArB,SACE,uBAAMN,SAbW,SAAAO,GAGnB,GAFAA,EAAEC,iBAEkB,KAAhBN,EAAKO,OACP,OAAOC,IAAMC,MAAM,4IAGrBX,EAASE,GACTC,EAAQ,KAKwBC,UAAWC,IAAEO,KAA3C,UACE,wBAAQC,KAAK,SAAST,UAAWC,IAAES,OAAnC,SACE,cAAC,IAAD,MAEF,uBACEV,UAAWC,IAAEU,MACbF,KAAK,OACLG,KAAK,OACLC,MAAOf,EACPgB,SA1BkB,SAAC,GAAkC,IAAfD,EAAc,EAA/BE,cAAiBF,MAC5Cd,EAAQc,EAAMG,gBA0BRC,aAAa,MACbC,WAAS,EACTC,YAAY,kC,4DClChBC,EAAYC,SAASC,cAAc,eAE1B,SAASC,EAAT,GAAuC,IAAtBC,EAAqB,EAArBA,IAAKC,EAAgB,EAAhBA,IAAKC,EAAW,EAAXA,QACxCC,qBAAU,WAER,OADAC,OAAOC,iBAAiB,UAAWC,GAC5B,WACLF,OAAOG,oBAAoB,UAAWD,OAI1C,IAAMA,EAAgB,SAAA3B,GACL,WAAXA,EAAE6B,MACJN,KAUJ,OAAOO,uBACL,qBAAKjC,UAAWC,IAAEiC,QAASC,QAPD,SAAAC,GACtBA,EAAMrB,gBAAkBqB,EAAMC,QAChCX,KAKF,SACE,qBAAK1B,UAAWC,IAAEqC,MAAlB,SACE,qBAAKd,IAAKA,EAAKC,IAAKA,EAAKc,MAAO,UAGpCnB,G,qBC7BW,SAASoB,EAAT,GAAqC,IAATC,EAAQ,EAARA,KACzC,EAAkC5C,oBAAS,GAA3C,mBAAO6C,EAAP,KAAkBC,EAAlB,KACMC,EAAc,WAClBD,GAAcD,IAGhB,OACE,qBAAkB1C,UAAWC,IAAE4C,iBAA/B,UACE,qBACEV,QAASS,EACTpB,IAAKiB,EAAKK,aACVrB,IAAKgB,EAAKM,KACV/C,UAAWC,IAAE+C,wBAEdN,GACC,cAACnB,EAAD,CAAOG,QAASkB,EAAapB,IAAKiB,EAAKQ,cAAexB,IAAKgB,EAAKM,SAR3DN,EAAKS,ICRH,SAASC,IACtB,OACE,sBAAKC,KAAK,QAAV,UACE,cAAC,IAAD,CAAWC,KAAK,OADlB,+D,qBCFW,SAASC,EAAT,GAA8B,IAAZnB,EAAW,EAAXA,QAK/B,OACE,wBAAQ1B,KAAK,SAAST,UAAWC,IAAES,OAAQyB,QALzB,WAClBA,KAIA,uBCTJ,IAAMoB,EAAQC,EAAQ,IAChBC,EAAW,0BACXC,EAAU,qC,4CAEhB,WAAwB5D,EAAM6D,GAA9B,iBAAAC,EAAA,+EAE2BL,EAAMM,IAAN,UAClBJ,EADkB,eACH3D,EADG,iBACU6D,EADV,gBACsBD,EADtB,yDAF3B,uBAEYI,EAFZ,EAEYA,KAFZ,kBAKWA,GALX,gCAOIC,QAAQxD,MAAR,iOAPJ,0D,sBAWA,IAAMyD,EAAM,CAAEC,S,+CACCD,I,iBCPA,SAASE,EAAT,GAAiC,IAATpE,EAAQ,EAARA,KACrC,EAA0BD,mBAAS,IAAnC,mBAAOsE,EAAP,KAAcC,EAAd,KACA,EAA4BvE,mBAAS,QAArC,mBAAOwE,EAAP,KAAeC,EAAf,KACA,EAAwBzE,mBAAS,GAAjC,mBAAO8D,EAAP,KAAaY,EAAb,KAEA5C,qBAAU,WACR,IAAM6C,EAAgB,uCAAG,8BAAAZ,EAAA,yDAClB9D,EADkB,wDAIvByE,EAAQ,GACRH,EAAS,IACTE,EAAU,WANa,kBAQEN,EAAIC,SAASnE,GARf,gBAQb2E,EARa,EAQbA,KACRL,EAAS,YAAIK,IACbH,EAAU,YACVC,GAAQ,SAAAG,GAAS,OAAIA,EAAY,KAXZ,kDAarBJ,EAAU,YAbW,0DAAH,qDAgBtBE,MAGC,CAAC1E,IAEJ,IAAM6E,EAAa,uCAAG,8BAAAf,EAAA,+EAEKI,EAAIC,SAASnE,EAAM6D,GAFxB,gBAEVc,EAFU,EAEVA,KACRL,EAAS,GAAD,mBAAKD,GAAL,YAAeM,KACvBH,EAAU,YACVC,GAAQ,SAAAG,GAAS,OAAIA,EAAY,KACjCE,gBAAOC,iBANW,kDAQlBP,EAAU,YARQ,0DAAH,qDAYnB,OACE,qCACc,SAAXD,GACC,mBAAGrE,UAAWC,IAAEH,KAAhB,4LAGU,YAAXuE,GAAwB,cAAClB,EAAD,KAEvBgB,EAAMW,QAAqB,aAAXT,GAChB,mBAAGrE,UAAWC,IAAEH,KAAhB,4OAGgB,IAAjBqE,EAAMW,QAA2B,aAAXT,GACrB,qCACE,oBAAIrE,UAAWC,IAAE8E,QAAjB,SACGZ,EAAMa,KAAI,SAAAvC,GAAI,OACb,cAACD,EAAD,CAAkBC,KAAMA,GAAWA,EAAKS,SAG5C,cAACI,EAAD,CAAQnB,QAASwC,UC9DZ,SAASM,IACtB,MAAwBpF,mBAAS,IAAjC,mBAAOC,EAAP,KAAaC,EAAb,KAMA,OACE,gCACE,cAACJ,EAAD,CAAWC,SANU,SAAAE,GACvBC,EAAQD,MAMN,cAACoE,EAAD,CAAcpE,KAAMA,IACpB,cAAC,IAAD,O,2BCVNoF,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAACH,EAAD,CAAKjF,UAAWC,IAAEoF,QAEpBhE,SAASiE,eAAe,U,kBCT1B7F,EAAOC,QAAU,CAAC,UAAY,6BAA6B,KAAO,wBAAwB,OAAS,0BAA0B,YAAc,+BAA+B,MAAQ,4B","file":"static/js/main.b0261859.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"ImageGallery_gallery__23wYm\",\"text\":\"ImageGallery_text__28ksl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__PHAay\",\"modal\":\"Modal_modal__wYGT8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__27Sx_\",\"imageGalleryItemImage\":\"ImageGalleryItem_imageGalleryItemImage__1rXGx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__A3dno\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__2QlqW\"};","import React, { useState } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport { ImSearch } from 'react-icons/im';\r\nimport PropTypes from 'prop-types';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport s from './Searchbar.module.css';\r\n\r\nexport default function Searchbar({ onSubmit }) {\r\n  const [text, setText] = useState('');\r\n\r\n  const handleInputChange = ({ currentTarget: { value } }) => {\r\n    setText(value.toLowerCase());\r\n  };\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n\r\n    if (text.trim() === '') {\r\n      return toast.error('Поле не должно быть пустым');\r\n    }\r\n\r\n    onSubmit(text);\r\n    setText('');\r\n  };\r\n\r\n  return (\r\n    <header className={s.searchbar}>\r\n      <form onSubmit={handleSubmit} className={s.form}>\r\n        <button type=\"submit\" className={s.button}>\r\n          <ImSearch />\r\n        </button>\r\n        <input\r\n          className={s.input}\r\n          type=\"text\"\r\n          name=\"text\"\r\n          value={text}\r\n          onChange={handleInputChange}\r\n          autoComplete=\"off\"\r\n          autoFocus\r\n          placeholder=\"Search images and photos\"\r\n        />\r\n      </form>\r\n    </header>\r\n  );\r\n}\r\n\r\nSearchbar.propTypes = {\r\n  onSubmit: PropTypes.func.isRequired,\r\n};\r\n","import React, { useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { createPortal } from 'react-dom';\r\nimport s from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default function Modal({ src, alt, onClose }) {\r\n  useEffect(() => {\r\n    window.addEventListener('keydown', handleKeyDown);\r\n    return () => {\r\n      window.removeEventListener('keydown', handleKeyDown);\r\n    };\r\n  });\r\n\r\n  const handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  const handleBackdropClick = event => {\r\n    if (event.currentTarget === event.target) {\r\n      onClose();\r\n    }\r\n  };\r\n\r\n  return createPortal(\r\n    <div className={s.overlay} onClick={handleBackdropClick}>\r\n      <div className={s.modal}>\r\n        <img src={src} alt={alt} width={960} />\r\n      </div>\r\n    </div>,\r\n    modalRoot,\r\n  );\r\n}\r\n\r\nModal.propTypes = {\r\n  onClose: PropTypes.func.isRequired,\r\n  src: PropTypes.string.isRequired,\r\n  alt: PropTypes.string,\r\n};\r\n","import React, { useState } from 'react';\r\nimport Modal from '../Modal/Modal';\r\nimport s from './ImageGalleryItem.module.css';\r\n\r\nexport default function ImageGalleryItem({ card }) {\r\n  const [showModal, setShowModal] = useState(false);\r\n  const toggleModal = () => {\r\n    setShowModal(!showModal);\r\n  };\r\n  \r\n  return (\r\n    <li key={card.id} className={s.imageGalleryItem}>\r\n      <img\r\n        onClick={toggleModal}\r\n        src={card.webformatURL}\r\n        alt={card.tags}\r\n        className={s.imageGalleryItemImage}\r\n      />\r\n      {showModal && (\r\n        <Modal onClose={toggleModal} src={card.largeImageURL} alt={card.tags} />\r\n      )}\r\n    </li>\r\n  );\r\n}\r\n","import { ImSpinner } from 'react-icons/im';\r\nimport React from 'react';\r\n\r\nexport default function Loader() {\r\n  return (\r\n    <div role=\"alert\">\r\n      <ImSpinner size=\"32\" />\r\n      Загружаем...\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport s from './Button.module.css';\r\n\r\nexport default function Button({ onClick }) {\r\n  const handleClick = () => {\r\n    onClick();\r\n  };\r\n\r\n  return (\r\n    <button type=\"button\" className={s.button} onClick={handleClick}>\r\n      Load more\r\n    </button>\r\n  );\r\n}\r\n","const axios = require('axios');\r\nconst BASE_URL = 'https://pixabay.com/api';\r\nconst API_KEY = '23964778-a3e050be7e1391d793e3046e4';\r\n\r\nasync function fetchApi(text, page) {\r\n  try {\r\n    const { data } = await axios.get(\r\n      `${BASE_URL}/?q=${text}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\r\n    );\r\n    return data;\r\n  } catch (error) {\r\n    console.error(`Нет результатов поиска по данному запросу`);\r\n  }\r\n}\r\n\r\nconst api = { fetchApi };\r\nexport default api;\r\n","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { animateScroll as scroll } from 'react-scroll';\r\nimport ImageGalleryItem from '../ImageGallery/ImageGalleryItem/ImageGalleryItem';\r\nimport Loader from '../Loader/Loader';\r\nimport Button from '../Button/Button';\r\nimport api from '../../services/apiService';\r\nimport s from './ImageGallery.module.css';\r\n\r\nexport default function ImageGallery({ text }) {\r\n  const [cards, setCards] = useState([]);\r\n  const [status, setStatus] = useState('idle');\r\n  const [page, setPage] = useState(1);\r\n\r\n  useEffect(() => {\r\n    const handleRenderPage = async () => {\r\n      if (!text) {\r\n        return;\r\n      }\r\n      setPage(1);\r\n      setCards([]);\r\n      setStatus('pending');\r\n      try {\r\n        const { hits } = await api.fetchApi(text);\r\n        setCards([...hits]);\r\n        setStatus('resolved');\r\n        setPage(prevState => prevState + 1);\r\n      } catch (e) {\r\n        setStatus('rejected');\r\n      }\r\n    };\r\n    handleRenderPage();\r\n\r\n    // eslint-disable-next-line\r\n  }, [text]);\r\n\r\n  const handleAddPage = async () => {\r\n    try {\r\n      const { hits } = await api.fetchApi(text, page);\r\n      setCards([...cards, ...hits]);\r\n      setStatus('resolved');\r\n      setPage(prevState => prevState + 1);\r\n      scroll.scrollToBottom();\r\n    } catch (e) {\r\n      setStatus('rejected');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {status === 'idle' && (\r\n        <p className={s.text}>Введите слово, чтобы начать поиск.</p>\r\n      )}\r\n\r\n      {status === 'pending' && <Loader />}\r\n\r\n      {!cards.length && status === 'resolved' && (\r\n        <p className={s.text}>Нет результатов поиска по данному запросу.</p>\r\n      )}\r\n\r\n      {cards.length !== 0 && status === 'resolved' && (\r\n        <>\r\n          <ul className={s.gallery}>\r\n            {cards.map(card => (\r\n              <ImageGalleryItem card={card} key={card.id} />\r\n            ))}\r\n          </ul>\r\n          <Button onClick={handleAddPage} />\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nImageGallery.propTypes = {\r\n  text: PropTypes.string.isRequired,\r\n};\r\n","import React, { useState } from 'react';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport Searchbar from '../Searchbar/Searchbar';\r\nimport ImageGallery from '../ImageGallery/ImageGallery';\r\n\r\nexport default function App() {\r\n  const [text, setText] = useState('');\r\n\r\n  const handleFormSubmit = text => {\r\n    setText(text);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Searchbar onSubmit={handleFormSubmit} />\r\n      <ImageGallery text={text} />\r\n      <ToastContainer />\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App/App';\nimport s from '../src/components/App/App.module.css';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App className={s.app} />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__10Y4L\",\"form\":\"Searchbar_form__1rWFM\",\"button\":\"Searchbar_button__5gQ7x\",\"buttonLabel\":\"Searchbar_buttonLabel__31swl\",\"input\":\"Searchbar_input__g-WNT\"};"],"sourceRoot":""}
(this["webpackJsonpgoit-react-hw-04-hooks-images"]=this["webpackJsonpgoit-react-hw-04-hooks-images"]||[]).push([[0],{18:function(e,t,a){e.exports={gallery:"ImageGallery_gallery__23wYm",text:"ImageGallery_text__28ksl"}},25:function(e,t,a){e.exports={overlay:"Modal_overlay__PHAay",modal:"Modal_modal__wYGT8"}},26:function(e,t,a){e.exports={imageGalleryItem:"ImageGalleryItem_imageGalleryItem__27Sx_",imageGalleryItemImage:"ImageGalleryItem_imageGalleryItemImage__1rXGx"}},39:function(e,t,a){e.exports={button:"Button_button__A3dno"}},40:function(e,t,a){e.exports={app:"App_app__2QlqW"}},76:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(4),s=a.n(c),o=a(3),i=a(16),u=a(15),l=(a(45),a(8)),b=a.n(l),j=a(1);function m(e){var t=e.onSubmit,a=Object(r.useState)(""),n=Object(o.a)(a,2),c=n[0],s=n[1];return Object(j.jsx)("header",{className:b.a.searchbar,children:Object(j.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""===c.trim())return i.b.error("\u041f\u043e\u043b\u0435 \u043d\u0435 \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u043f\u0443\u0441\u0442\u044b\u043c");t(c),s("")},className:b.a.form,children:[Object(j.jsx)("button",{type:"submit",className:b.a.button,children:Object(j.jsx)(u.a,{})}),Object(j.jsx)("input",{className:b.a.input,type:"text",name:"text",value:c,onChange:function(e){var t=e.currentTarget.value;s(t.toLowerCase())},autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})}var p=a(5),d=a.n(p),f=a(19),h=a(7),x=a(38),O=a(25),v=a.n(O),g=document.querySelector("#modal-root");function _(e){var t=e.src,a=e.alt,n=e.onClose;Object(r.useEffect)((function(){return window.addEventListener("keydown",s),function(){window.removeEventListener("keydown",s)}}));var s=function(e){"Escape"===e.code&&n()};return Object(c.createPortal)(Object(j.jsx)("div",{className:v.a.overlay,onClick:function(e){e.currentTarget===e.target&&n()},children:Object(j.jsx)("div",{className:v.a.modal,children:Object(j.jsx)("img",{src:t,alt:a,width:960})})}),g)}var y=a(26),w=a.n(y);function k(e){var t=e.card,a=Object(r.useState)(!1),n=Object(o.a)(a,2),c=n[0],s=n[1],i=function(){s(!c)};return Object(j.jsxs)("li",{className:w.a.imageGalleryItem,children:[Object(j.jsx)("img",{onClick:i,src:t.webformatURL,alt:t.tags,className:w.a.imageGalleryItemImage}),c&&Object(j.jsx)(_,{onClose:i,src:t.largeImageURL,alt:t.tags})]},t.id)}function S(){return Object(j.jsxs)("div",{role:"alert",children:[Object(j.jsx)(u.b,{size:"32"}),"\u0417\u0430\u0433\u0440\u0443\u0436\u0430\u0435\u043c..."]})}var I=a(39),N=a.n(I);function G(e){var t=e.onClick;return Object(j.jsx)("button",{type:"button",className:N.a.button,onClick:function(){t()},children:"Load more"})}var C=a(17),L=a.n(C);function A(){return(A=Object(h.a)(d.a.mark((function e(t,a){var r,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.get("",{params:{q:t,page:a}});case 3:return r=e.sent,n=r.data,e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0),console.error("\u041d\u0435\u0442 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432 \u043f\u043e\u0438\u0441\u043a\u0430 \u043f\u043e \u0434\u0430\u043d\u043d\u043e\u043c\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0443");case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}L.a.defaults.baseURL="https://pixabay.com/api",L.a.defaults.params={key:"23964778-a3e050be7e1391d793e3046e4",image_type:"photo",orientation:"horizontal",per_page:12};var E={fetchApi:function(e,t){return A.apply(this,arguments)}},T=E,F=a(18),M=a.n(F);function q(e){var t=e.text,a=Object(r.useState)([]),n=Object(o.a)(a,2),c=n[0],s=n[1],i=Object(r.useState)("idle"),u=Object(o.a)(i,2),l=u[0],b=u[1],m=Object(r.useState)(1),p=Object(o.a)(m,2),O=p[0],v=p[1];Object(r.useEffect)((function(){var e=function(){var e=Object(h.a)(d.a.mark((function e(){var a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return v(1),s([]),b("pending"),e.prev=5,e.next=8,T.fetchApi(t);case 8:a=e.sent,r=a.hits,s(Object(f.a)(r)),b("resolved"),v((function(e){return e+1})),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),b("rejected");case 18:case"end":return e.stop()}}),e,null,[[5,15]])})));return function(){return e.apply(this,arguments)}}();e()}),[t]);var g=function(){var e=Object(h.a)(d.a.mark((function e(){var a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T.fetchApi(t,O);case 3:a=e.sent,r=a.hits,s([].concat(Object(f.a)(c),Object(f.a)(r))),b("resolved"),v((function(e){return e+1})),x.animateScroll.scrollToBottom(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),b("rejected");case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return Object(j.jsxs)(j.Fragment,{children:["idle"===l&&Object(j.jsx)("p",{className:M.a.text,children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043b\u043e\u0432\u043e, \u0447\u0442\u043e\u0431\u044b \u043d\u0430\u0447\u0430\u0442\u044c \u043f\u043e\u0438\u0441\u043a."}),"pending"===l&&Object(j.jsx)(S,{}),!c.length&&"resolved"===l&&Object(j.jsx)("p",{className:M.a.text,children:"\u041d\u0435\u0442 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432 \u043f\u043e\u0438\u0441\u043a\u0430 \u043f\u043e \u0434\u0430\u043d\u043d\u043e\u043c\u0443 \u0437\u0430\u043f\u0440\u043e\u0441\u0443."}),0!==c.length&&"resolved"===l&&Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("ul",{className:M.a.gallery,children:c.map((function(e){return Object(j.jsx)(k,{card:e},e.id)}))}),Object(j.jsx)(G,{onClick:g})]})]})}function B(){var e=Object(r.useState)(""),t=Object(o.a)(e,2),a=t[0],n=t[1];return Object(j.jsxs)("div",{children:[Object(j.jsx)(m,{onSubmit:function(e){n(e)}}),Object(j.jsx)(q,{text:a}),Object(j.jsx)(i.a,{})]})}var R=a(40),U=a.n(R);a(76);s.a.render(Object(j.jsx)(n.a.StrictMode,{children:Object(j.jsx)(B,{className:U.a.app})}),document.getElementById("root"))},8:function(e,t,a){e.exports={searchbar:"Searchbar_searchbar__10Y4L",form:"Searchbar_form__1rWFM",button:"Searchbar_button__5gQ7x",buttonLabel:"Searchbar_buttonLabel__31swl",input:"Searchbar_input__g-WNT"}}},[[77,1,2]]]);
//# sourceMappingURL=main.4a924fb7.chunk.js.map
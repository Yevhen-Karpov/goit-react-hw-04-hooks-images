{"version":3,"sources":["component/Searchbar/Searchbar.module.css","component/ImageGallery/ImageGallery.module.css","component/Modal/Modal.module.css","component/ImageGalleryItem/ImageGalleryItem.module.css","component/Button/Button.module.css","component/App/App.module.css","component/Searchbar/Searchbar.jsx","component/Modal/Modal.jsx","component/ImageGalleryItem/ImageGalleryItem.jsx","component/Loader/Loader.jsx","component/Button/Button.jsx","services/apiService.js","component/ImageGallery/ImageGallery.jsx","component/App/App.jsx","index.js"],"names":["module","exports","Searchbar","state","text","handleInputChange","e","setState","currentTarget","value","toLowerCase","handleSubmit","preventDefault","trim","toast","error","props","onSubmit","className","s","searchbar","this","form","type","button","input","name","onChange","autoComplete","autoFocus","placeholder","Component","modalRoot","document","querySelector","Modal","handleKeyDown","code","onClose","handleBackdropClick","event","target","window","addEventListener","removeEventListener","src","tags","createPortal","overlay","onClick","modal","alt","width","ImageGalleryItem","showModal","toggleModal","card","imageGalleryItem","webformatURL","imageGalleryItemImage","largeImageURL","id","Loader","role","size","Button","handleClick","scroll","scrollToBottom","axios","require","BASE_URL","API_KEY","page","a","get","data","console","api","fetchApi","ImageGallery","cards","status","handleRenderPage","hits","prevState","handleAddPage","prevProps","length","gallery","map","App","handleFormSubmit","ReactDOM","render","StrictMode","app","getElementById"],"mappings":"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","file":"static/js/main.1e5ae8a2.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__3KMqL\",\"form\":\"Searchbar_form__121O0\",\"button\":\"Searchbar_button__1xNku\",\"buttonLabel\":\"Searchbar_buttonLabel__26Bc2\",\"input\":\"Searchbar_input__3fir2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"ImageGallery_gallery__1zUHZ\",\"text\":\"ImageGallery_text__3znTM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__3Y7HW\",\"modal\":\"Modal_modal__3UlS7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__3zw6h\",\"imageGalleryItemImage\":\"ImageGalleryItem_imageGalleryItemImage__2t-xa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__1UYt5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__37JOc\"};","import React, { Component } from 'react';\r\nimport { toast } from 'react-toastify';\r\nimport { ImSearch } from 'react-icons/im';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport s from './Searchbar.module.css';\r\n\r\nexport default class Searchbar extends Component {\r\n  state = {\r\n    text: '',\r\n  };\r\n\r\n  handleInputChange = e => {\r\n    this.setState({ text: e.currentTarget.value.toLowerCase() });\r\n  };\r\n\r\n  handleSubmit = e => {\r\n    e.preventDefault();\r\n    if (this.state.text.trim() === '') {\r\n      return toast.error('Поле не должно быть пустым');\r\n    }\r\n    this.props.onSubmit(this.state.text);\r\n    this.setState({ text: '' });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <header className={s.searchbar}>\r\n        <form onSubmit={this.handleSubmit} className={s.form}>\r\n          <button type=\"submit\" className={s.button}>\r\n            <ImSearch />\r\n          </button>\r\n          <input\r\n            className={s.input}\r\n            type=\"text\"\r\n            name=\"text\"\r\n            value={this.state.text}\r\n            onChange={this.handleInputChange}\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search images and photos\"\r\n          />\r\n        </form>\r\n      </header>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport s from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nexport default class Modal extends Component {\r\n  componentDidMount() {\r\n    window.addEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    window.removeEventListener('keydown', this.handleKeyDown);\r\n  }\r\n\r\n  handleKeyDown = e => {\r\n    if (e.code === 'Escape') {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  handleBackdropClick = event => {\r\n    if (event.currentTarget === event.target) {\r\n      this.props.onClose();\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { src, tags } = this.props;\r\n\r\n    return createPortal(\r\n      <div className={s.overlay} onClick={this.handleBackdropClick}>\r\n        <div className={s.modal}>\r\n          <img src={src} alt={tags} width={960} />\r\n        </div>\r\n      </div>,\r\n      modalRoot,\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport Modal from 'component/Modal/Modal';\r\nimport s from './ImageGalleryItem.module.css';\r\n\r\nexport default class ImageGalleryItem extends Component {\r\n  state = {\r\n    showModal: false,\r\n  };\r\n\r\n  toggleModal = () => {\r\n    this.setState(({ showModal }) => ({\r\n      showModal: !showModal,\r\n    }));\r\n  };\r\n\r\n  render() {\r\n    const { card } = this.props;\r\n    const { showModal } = this.state;\r\n    return (\r\n      <li key={card.id} className={s.imageGalleryItem}>\r\n        <img\r\n          onClick={this.toggleModal}\r\n          src={card.webformatURL}\r\n          alt=\"\"\r\n          className={s.imageGalleryItemImage}\r\n        />\r\n        {showModal && (\r\n          <Modal\r\n            onClose={this.toggleModal}\r\n            src={card.largeImageURL}\r\n            alt={card.tags}\r\n          />\r\n        )}\r\n      </li>\r\n    );\r\n  }\r\n}\r\n","import { ImSpinner } from 'react-icons/im';\r\nimport React from 'react';\r\n\r\nexport default function Loader() {\r\n  return (\r\n    <div role=\"alert\">\r\n      <ImSpinner size=\"32\" />\r\n      Загружаем...\r\n    </div>\r\n  );\r\n}\r\n","import React, { Component } from 'react';\r\nimport { animateScroll as scroll } from 'react-scroll';\r\nimport s from './Button.module.css';\r\n\r\nexport default class Button extends Component {\r\n  handleClick = () => {\r\n    this.props.onClick();\r\n    scroll.scrollToBottom();\r\n  };\r\n  render() {\r\n    return (\r\n      <button type=\"button\" className={s.button} onClick={this.handleClick}>\r\n        Load more\r\n      </button>\r\n    );\r\n  }\r\n}\r\n","const axios = require('axios');\r\nconst BASE_URL = 'https://pixabay.com/api';\r\nconst API_KEY = '23964778-a3e050be7e1391d793e3046e4';\r\n\r\nasync function fetchApi(text, page) {\r\n  try {\r\n    const { data } = await axios.get(\r\n      `${BASE_URL}/?q=${text}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\r\n    );\r\n    return data;\r\n  } catch (error) {\r\n    console.error(`Нет результатов поиска по данному запросу`);\r\n  }\r\n}\r\n\r\nconst api = { fetchApi };\r\nexport default api;\r\n","import React, { Component } from 'react';\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\nimport Loader from '../Loader/Loader';\r\nimport Button from '../Button/Button';\r\nimport api from '../../services/apiService';\r\nimport s from './ImageGallery.module.css';\r\n\r\nexport default class ImageGallery extends Component {\r\n  state = {\r\n    cards: [],\r\n    status: 'idle',\r\n  };\r\n\r\n  async componentDidUpdate(prevProps, prevState) {\r\n    if (prevProps.text !== this.props.text) {\r\n      this.setState({ status: 'pending', cards: [] });\r\n      await this.handleRenderPage();\r\n    }\r\n  }\r\n\r\n  handleRenderPage = async () => {\r\n    const { text, page } = this.props;\r\n\r\n    try {\r\n      const { hits } = await api.fetchApi(text, page);\r\n      this.setState(prevState => ({\r\n        cards: [...prevState.cards, ...hits],\r\n        status: 'resolved',\r\n        page: 2,\r\n      }));\r\n    } catch (e) {\r\n      this.setState({ status: 'rejected' });\r\n    }\r\n  };\r\n\r\n  handleAddPage = async () => {\r\n    try {\r\n      const { hits } = await api.fetchApi(this.props.text, this.state.page);\r\n      this.setState(prevState => ({\r\n        cards: [...prevState.cards, ...hits],\r\n        status: 'resolved',\r\n        page: 2,\r\n      }));\r\n    } catch (e) {\r\n      this.setState({ status: 'rejected' });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { status, cards } = this.state;\r\n\r\n    return (\r\n      <>\r\n        {status === 'idle' && (\r\n          <p className={s.text}>Введите слово, чтобы начать поиск.</p>\r\n        )}\r\n\r\n        {status === 'pending' && <Loader />}\r\n\r\n        {!cards.length && status === 'resolved' && (\r\n          <p className={s.text}>Нет результатов поиска по данному запросу.</p>\r\n        )}\r\n\r\n        {cards.length !== 0 && status === 'resolved' && (\r\n          <>\r\n            <ul className={s.gallery}>\r\n              {cards.map(card => (\r\n                <ImageGalleryItem card={card} key={card.id} />\r\n              ))}\r\n            </ul>\r\n            <Button onClick={this.handleAddPage} />\r\n          </>\r\n        )}\r\n      </>\r\n    );\r\n  }\r\n}\r\n","import React, { Component } from 'react';\r\nimport { ToastContainer } from 'react-toastify';\r\nimport Searchbar from '../Searchbar/Searchbar';\r\nimport ImageGallery from '../ImageGallery/ImageGallery';\r\n\r\nexport default class App extends Component {\r\n  state = {\r\n    text: '',\r\n    page: 1,\r\n  };\r\n\r\n  handleFormSubmit = text => {\r\n    this.setState({ text: text });\r\n  };\r\n\r\n  render() {\r\n    return (\r\n      <div>\r\n        <Searchbar onSubmit={this.handleFormSubmit} />\r\n        <ImageGallery text={this.state.text} page={this.state.page} />\r\n        <ToastContainer />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './component/App/App';\nimport s from '../src/component/App/App.module.css';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App className={s.app} />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}